<html>
    <head>
        <title>단테 알러지 검사결과</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    </head>
    <script src="allergy.js"></script>
    <script type="text/javascript">
        const allergy_IgE_keys = Object.keys(allergy_IgE);
        const allergy_nonIgE_keys = Object.keys(allergy_nonIgE);
            
        function show_result() {
            document.getElementById("ige_result").innerHTML = "";
            document.getElementById("nonige_result").innerHTML = "";
            
            let parameter = document.getElementById("param").value;
            
            document.getElementById("ige_result").innerHTML = compare_IgE_key(parameter);
            document.getElementById("nonige_result").innerHTML = compare_nonIgE_key(parameter);
        }

        function compare_IgE_key(parameter){
            for (let i = 0; i < allergy_IgE_keys.length; i++) {
                var key_name = allergy_IgE_keys[i];
                if (key_name.includes(parameter)) {
                     document.getElementById("param").innerHTML = key_name;
                    return allergy_IgE[key_name];
                }
            }
            return "검사결과없음";
        }

       function compare_nonIgE_key(parameter){
            for (let i = 0; i < allergy_nonIgE_keys.length; i++) {
                var key_name = allergy_nonIgE_keys[i];
                if (key_name.includes(parameter)) {
                    return allergy_nonIgE[key_name];
                }
            }
           return "검사결과없음";
        }
        
        function enterkey(e) {
        	if (e.keyCode == 13) {
            	show_result();
            }
        }

    </script>
    <body>
        <br/> 수치가 1.0 이상일 경우 먹으면 안됨 / 검사결과가 없는 경우 문의 필요
        <br/> * 우유는 0이 나오지만 뱃속에서 소화된 후 나오는 효소에 알러지가 있어서 섭취 불가능
        <br/> <input type="text" id="param" onkeyup="enterkey(event)" /> 
        <input type="button" value="확인하기" onclick="show_result()" /> 
        <br/> 즉발성 알러지 수치 : <span id="ige_result"></span>
        <br/> 지연성 알러지 수치 : <span id="nonige_result"></span>
    </body>
</html>
